!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkqr_generator=self.webpackChunkqr_generator||[]).push([[458],{42458:function(t,a,r){"use strict";r.r(a),r.d(a,{RedirectQRModule:function(){return A}});var o=r(61116),i=r(63337),c=r(97892),l=r(31041),d=r(35366),s=r(92935),m=r(93957),p=r(63589),u=r(87672),f=r(22797),g=r(13070),h=r(9550),v=r(31419),x=r(35965),C=r(84369);function y(e,t){1&e&&d["\u0275\u0275element"](0,"mat-progress-spinner",4)}function w(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," This field is required. "),d["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.getErrorPassword()," ")}}function k(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"mat-card"),d["\u0275\u0275elementStart"](1,"mat-card-content"),d["\u0275\u0275elementStart"](2,"form",5),d["\u0275\u0275listener"]("ngSubmit",function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().onSubmit()}),d["\u0275\u0275elementStart"](3,"div",6),d["\u0275\u0275elementStart"](4,"mat-form-field"),d["\u0275\u0275element"](5,"input",7),d["\u0275\u0275template"](6,w,2,0,"mat-error",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",6),d["\u0275\u0275elementStart"](8,"mat-form-field"),d["\u0275\u0275element"](9,"input",8),d["\u0275\u0275template"](10,b,2,1,"mat-error",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](11,"br"),d["\u0275\u0275elementStart"](12,"div",9),d["\u0275\u0275elementStart"](13,"div",10),d["\u0275\u0275elementStart"](14,"button",11),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().goToRegister()}),d["\u0275\u0275text"](15,"Create New Account"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",12),d["\u0275\u0275elementStart"](17,"button",13),d["\u0275\u0275text"](18,"Login"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("formGroup",a.formGroup),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",!a.formGroup.controls.userName.valid&&a.formGroup.controls.userName.touched),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",!a.formGroup.controls.password.valid&&a.formGroup.controls.password.touched),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("disabled",!a.formGroup.valid)}}var I=function(){var t=function(){function t(n,a,r,o,i){e(this,t),this.dialogRef=n,this.formBuilder=a,this.router=r,this.service=o,this.snackBar=i,this.environment=c.N,this.loading=!1}return n(t,[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){this.formGroup=this.formBuilder.group({userName:new l.NI(null,l.kI.required),password:new l.NI(null,[l.kI.required,this.checkPassword])})}},{key:"checkPassword",value:function(e){var t=e.value;return!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(t)&&t?{requirements:!0}:null}},{key:"getErrorPassword",value:function(){return this.formGroup.get("password").hasError("required")?"This field is required":this.formGroup.get("password").hasError("requirements")?"Password needs to be at least eight characters, one uppercase letter and one number":""}},{key:"goToRegister",value:function(){this.router.navigate(["/auth/register"]),this.dialogRef.close()}},{key:"onSubmit",value:function(){var e=this;if(this.formGroup.valid&&!this.loading){this.loading=!0;var t={userName:this.formGroup.controls.userName.value,password:this.environment.encryptString(this.formGroup.controls.password.value)};this.service.makeAPICall(this.service.postMethod,this.service.loginAPI,t,function(t){e.loading=!1,0!==t.code?200===t.code?(localStorage.setItem("authToken",t.authToken),localStorage.setItem("userInfo",JSON.stringify(t.data)),e.dialogRef.close()):c.N.flash(e.snackBar,t.message):c.N.flash(e.snackBar,"Something went wrong!")})}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](s.so),d["\u0275\u0275directiveInject"](l.qu),d["\u0275\u0275directiveInject"](i.F0),d["\u0275\u0275directiveInject"](m.t),d["\u0275\u0275directiveInject"](p.ux))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-login-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"flex-box"],["style","margin: 0 auto;top: 50%;","color","primary","mode","indeterminate",4,"ngIf"],[4,"ngIf"],["color","primary","mode","indeterminate",2,"margin","0 auto","top","50%"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-element"],["matInput","","placeholder","Username","formControlName","userName"],["matInput","","type","password","placeholder","Password","formControlName","password"],["gdAreas","side content","gdRows","auto"],["gdArea","side","fxLayoutAlign","flex-start"],["type","button","mat-raised-button","","color","primary",3,"click"],["gdArea","content","fxLayoutAlign","flex-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"span"),d["\u0275\u0275elementStart"](2,"h4",0),d["\u0275\u0275text"](3,"Please login to view QR code details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",1),d["\u0275\u0275template"](5,y,1,0,"mat-progress-spinner",2),d["\u0275\u0275template"](6,k,19,4,"mat-card",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.loading))},directives:[s.uh,s.xY,o.O5,u.Ou,f.a8,f.dn,l._Y,l.JL,l.sg,g.KE,h.Nt,l.Fj,l.JJ,l.u,v.kY,v.Q,v.xi,x.Wh,C.lW,g.TO],styles:[".form-element[_ngcontent-%COMP%]{margin:5px 0 10px}.label-field[_ngcontent-%COMP%]{color:#757575;font-size:18px}.fileUpload[_ngcontent-%COMP%]{border:2px dashed;width:100px;height:100px;color:#1e88e5;padding:0}.cam-upload[_ngcontent-%COMP%]{font-size:80px;height:auto;width:auto}.image-preview[_ngcontent-%COMP%]{margin-top:10px}.flex-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.full[_ngcontent-%COMP%]{width:100%}.half[_ngcontent-%COMP%]{width:50%}.three[_ngcontent-%COMP%]{width:33.33%}.form-element[_ngcontent-%COMP%]{padding:0 5px;box-sizing:border-box}.form-element[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:400;font-size:16px}.form-element[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .form-element[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10% 0}  .mat-form-field{width:100%;min-width:300px}mat-card-content[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center}.error[_ngcontent-%COMP%]{padding:10px;width:300px;color:#fff;background-color:red}mat-card.mat-card[_ngcontent-%COMP%]{max-width:500px;width:100%;box-shadow:none;border:1px solid #ccc}form.form[_ngcontent-%COMP%]{width:100%}.bg[_ngcontent-%COMP%]{display:flex;background:#dedede;height:calc(100vh - 65px)}.bg[_ngcontent-%COMP%], .bg[_ngcontent-%COMP%]   mat-card.mat-card.ng-star-inserted[_ngcontent-%COMP%]{margin:auto}.bg[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:700}"]}),t}();function S(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",2),d["\u0275\u0275element"](1,"mat-progress-spinner",3),d["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"p"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.qrText)}}function E(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"p"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("First Name: ",n.qrContact.firstName,"")}}function O(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"p"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("Last Name: ",n.qrContact.lastName,"")}}function M(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",8),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275propertyInterpolate1"]("href","tel:",n.qrContact.tel,"",d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.qrContact.tel)}}function q(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"p"),d["\u0275\u0275text"](1,"Email: "),d["\u0275\u0275elementStart"](2,"a",8),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate1"]("href","mailto:",n.qrContact.email,"",d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.qrContact.email)}}function _(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,E,2,1,"p",1),d["\u0275\u0275template"](2,O,2,1,"p",1),d["\u0275\u0275elementStart"](3,"p"),d["\u0275\u0275text"](4,"Phone: "),d["\u0275\u0275template"](5,M,2,2,"a",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,q,4,2,"p",1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null!==n.qrContact.firstName),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null!==n.qrContact.lastName),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",null!==n.qrContact.tel),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null!==n.qrContact.email)}}function N(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"p"),d["\u0275\u0275text"](2,"Your QR-Code Decoded sucessfully.."),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-card"),d["\u0275\u0275elementStart"](1,"span",4),d["\u0275\u0275template"](2,P,3,1,"div",5),d["\u0275\u0275template"](3,_,7,4,"div",5),d["\u0275\u0275template"](4,N,3,0,"div",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngSwitch",n.qrType),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngSwitchCase","text"),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngSwitchCase","contact")}}var j,L,T=[{path:"qrURL/:id",component:(j=function(){function t(n,a,r,o,i){e(this,t),this.router=n,this.activatedRoute=a,this.service=r,this.snackBar=o,this.dialog=i,this.isLoggedIn=!1,this.loading=!1,this.environment=c.N,this.url=this.activatedRoute.snapshot.params.id}return n(t,[{key:"ngOnInit",value:function(){this.url?this.getData():this.router.navigate([""])}},{key:"openDialog",value:function(){var e=this;this.dialog.open(I,{height:"auto",width:"500px",hasBackdrop:!1}).afterClosed().subscribe(function(t){e.isLoggedIn=!0,e.decodeQrCode()})}},{key:"getData",value:function(){var e=this;this.loading=!0,this.service.makeAPICall(this.service.postMethod,this.service.redirectURL,{qrID:this.url},function(t){200===t.code?(e.qrType=t.qrType,e.data=t.qrData,!e.service.getLocalStorage("authToken")&&(null==t?void 0:t.isPrivate)?e.openDialog():(e.isLoggedIn=!0,e.decodeQrCode()),e.loading=!1):(c.N.flash(e.snackBar,t.message),e.router.navigate([""]))})}},{key:"decodeQrCode",value:function(){switch(this.qrType){case"url":this.openRedirectLink(this.data);break;case"tel":this.openRedirectLink("tel:".concat(this.data));break;case"email":this.openRedirectLink("mailto:".concat(this.data.email,"?subject=").concat(this.data.subject,"&body=").concat(this.data.body));break;case"contact":this.qrContact=this.data;break;case"location":this.openRedirectLink("https://maps.google.com/?q=".concat(this.data.lat,",").concat(this.data.lng));break;case"whatsapp":var e=encodeURIComponent(this.data.message);this.openRedirectLink("https://api.whatsapp.com/send?phone=".concat(this.data.phoneNumber,"&text=").concat(e));break;case"zoom":this.openRedirectLink("https://zoom.us/j/".concat(this.data.meetingCode,"?pwd=").concat(this.data.password));break;case"skype":this.openRedirectLink("https://join.skype.com/invite/".concat(this.data.inviteLink));break;default:this.qrText=this.data}}},{key:"openRedirectLink",value:function(e){var t;t=document.createElement("a"),document.body.appendChild(t),t.style.display="none",t.href=e,t.click()}}]),t}(),j.\u0275fac=function(e){return new(e||j)(d["\u0275\u0275directiveInject"](i.F0),d["\u0275\u0275directiveInject"](i.gz),d["\u0275\u0275directiveInject"](m.t),d["\u0275\u0275directiveInject"](p.ux),d["\u0275\u0275directiveInject"](s.uw))},j.\u0275cmp=d["\u0275\u0275defineComponent"]({type:j,selectors:[["app-redirect-qr"]],decls:2,vars:2,consts:[["class","loader-margin",4,"ngIf"],[4,"ngIf"],[1,"loader-margin"],["color","primary","mode","indeterminate","value","value",1,"loader"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"href",4,"ngIf"],[3,"href"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,S,2,0,"div",0),d["\u0275\u0275template"](1,R,5,3,"mat-card",1)),2&e&&(d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.loading&&t.isLoggedIn))},directives:[o.O5,u.Ou,f.a8,o.RF,o.n9,o.ED],styles:[""]}),j)}],G=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[i.Bz.forChild(T)],i.Bz]}),t}(),z=r(78764),A=((L=n(function t(){e(this,t)})).\u0275fac=function(e){return new(e||L)},L.\u0275mod=d["\u0275\u0275defineNgModule"]({type:L}),L.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[o.ez,G,z.m]]}),L)}}])}();